# ğŸ—ï¸ Arquitectura del Puente Hipergrafo â†”ï¸ Colab

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                    ğŸŒ INTERNET / ngrok tunnel                              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                              â”‚
         â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CODESPACES  â”‚              â”‚   COLAB     â”‚
    â”‚ (TypeScript)â”‚              â”‚  (Python)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â”‚                              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  HIPERGRAFO.ts     â”‚         â”‚  FastAPI Server    â”‚
    â”‚                    â”‚         â”‚  (Servidor REST)   â”‚
    â”‚ â€¢ Nodos            â”‚         â”‚                    â”‚
    â”‚ â€¢ Hiperedges       â”‚         â”‚ â€¢ ModeloIA         â”‚
    â”‚ â€¢ Estructura       â”‚         â”‚ â€¢ AnÃ¡lisis         â”‚
    â”‚ â€¢ SerializaciÃ³n    â”‚         â”‚ â€¢ Predicciones     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                              â”‚
             â”‚     JSON (HTTP POST)         â”‚
             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
             â”‚  â”‚ {nodos, hiperedges}    â”‚  â”‚
             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  ngrok Public URL     â”‚
                â”‚  https://xxxx.ngrok   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š Flujo de Datos Paso a Paso

### 1ï¸âƒ£ InicializaciÃ³n
```
1. GitHub Copilot (en Codespaces)
   â”œâ”€ Crea Hipergrafo con nodos y edges
   â”œâ”€ Serializa a JSON
   â””â”€ Obtiene URL de Colab desde configColab.ts

2. Google Gemini (en Colab)
   â”œâ”€ Inicia FastAPI Server
   â”œâ”€ Carga modelo de IA
   â””â”€ Abre tÃºnel con ngrok
```

### 2ï¸âƒ£ ComunicaciÃ³n en Tiempo Real
```
Copilot (Codespaces)
     â”‚
     â”œâ”€â†’ ColabBridge.verificarConexion()
     â”‚   â””â”€â†’ GET https://xxxx.ngrok-free.dev/
     â”‚       (Verifica que Colab estÃ© online)
     â”‚
     â”œâ”€â†’ ColabBridge.ejecutarModelo(datosHipergrafo)
     â”‚   â””â”€â†’ POST https://xxxx.ngrok-free.dev/procesar
     â”‚       â””â”€â†’ Gemini (en Colab) recibe JSON
     â”‚           â””â”€â†’ Procesa con modelo de IA
     â”‚               â””â”€â†’ Devuelve anÃ¡lisis
     â”‚
     â””â”€â†’ IntegradorHipergrafoColo.procesarEnColab()
         â””â”€â†’ Recibe resultado y lo usa en Hipergrafo
```

### 3ï¸âƒ£ Ciclos de Procesamiento
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HIPERGRAFO (Codespaces)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Nodo A â†â†’ Hiperedge â†â†’ Nodo B   â”‚â”‚
â”‚  â”‚ Nodo C â†â†’ Hiperedge â†â†’ Nodo D   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ (serializar)
             â–¼
         {nodos: [...],
          hiperedges: [...]}
             â”‚ (HTTP)
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MODELO IA (Colab)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ PyTorch / TensorFlow / BERT      â”‚â”‚
â”‚  â”‚ AnÃ¡lisis de Centralidad          â”‚â”‚
â”‚  â”‚ DetecciÃ³n de Comunidades         â”‚â”‚
â”‚  â”‚ Predicciones                     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ (resultado JSON)
             â–¼
         {anÃ¡lisis: {...},
          confianza: 0.95}
             â”‚ (HTTP response)
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  INTEGRADOR (Codespaces)            â”‚
â”‚  â”œâ”€ Recibe anÃ¡lisis                 â”‚
â”‚  â”œâ”€ Actualiza metadata de nodos     â”‚
â”‚  â”œâ”€ Ajusta pesos de hiperedges      â”‚
â”‚  â””â”€ ContinÃºa el flujo               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”Œ Componentes Clave

### En Codespaces (TypeScript)
```
src/neural/
â”œâ”€â”€ ColabBridge.ts (Cliente HTTP)
â”œâ”€â”€ IntegradorHipergrafoColo.ts (Orquestador)
â”œâ”€â”€ configColab.ts (ConfiguraciÃ³n URL)
â””â”€â”€ index.ts (Exportaciones)
```

### En Colab (Python)
```
FastAPI Server con:
â”œâ”€â”€ GET / (Health check)
â”œâ”€â”€ POST /procesar (AnÃ¡lisis principal)
â”œâ”€â”€ POST /entrenar (Reentrenamiento)
â””â”€â”€ GET /info (Metadatos)
```

## ğŸ” Seguridad

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CORS Habilitado (CORS middleware)  â”‚
â”‚  Permite conexiones desde cualquier  â”‚
â”‚  origin (para desarrollo)            â”‚
â”‚                                      â”‚
â”‚  âš ï¸  En producciÃ³n:                  â”‚
â”‚     - Restringir a dominios reales   â”‚
â”‚     - Agregar autenticaciÃ³n          â”‚
â”‚     - Usar HTTPS obligatorio         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ Optimizaciones Futuras

```
IDEA: Batch Processing
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Enviar mÃºltiples Hipergrafos a la vez    â”‚
â”‚ POST /procesar-batch                     â”‚
â”‚ Input: [{hg1}, {hg2}, {hg3}]             â”‚
â”‚ Output: [resultado1, resultado2, ...]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IDEA: CachÃ© de Resultados
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Redis/Memcached en Colab                 â”‚
â”‚ Evita reprocessamiento de igual datos    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IDEA: WebSocket (comunicaciÃ³n bidireccional)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ En lugar de HTTP request-response         â”‚
â”‚ Mantener canal abierto para streaming    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Diagrama generado**: 2025-12-21
**Ãšltima actualizaciÃ³n**: Puente funcionando âœ…
